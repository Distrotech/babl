<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<!-- The babl webpage is partially autogenerated
-->
<html>
  <head>
    <title>babl-@BABL_VERSION@</title>

    <link rel="icon" href="graphics/babl-16x16.png" type="image/png" />
    <link rel="shortcut icon" href="graphics/babl-16x16.png" type="image/png" />
    
    <style type='text/css'>
       @import url(babl.css);
    </style>
  </head>
  <body>

    <div class='print'>
      <div class='print_title'>
        <h1>Babl-@BABL_VERSION@</h1>
      </div>
    </div>

    <div class='toc'>
      <div class='print'>
         <h3>Contents</h3>
      </div>
      <ul>
        <li><a href='#About'>About</a></li>
        <li><a href='#NEWS'>News</a></li>
        <li><a href='#Features'>Features</a></li>
        <li><a href='#Data-types'>&nbsp;&nbsp;Data types</a></li>
        <li><a href='#Color-models'>&nbsp;&nbsp;Color models</a></li>
        <li><a href='#Pixel-formats'>&nbsp;&nbsp;Pixel formats</a></li>
        <li><a href='#Dependencies'>Dependencies</a></li>
        <li><a href='#Dependencies-Core'>&nbsp;&nbsp;Core</a></li>
        <li><a href='#Dependencies-Extensions'>&nbsp;&nbsp;Extensions</a></li>
        <li><a href='#Source'>Source</a></li>
        <li><a href='#Basic-usage'>Basic Usage</a></li>
        <li><a href='#Extending'>Extending</a></li>
        <li><a href='#TODO'>TODO</a></li>
        <li><a href='#TODO-Core'>&nbsp;&nbsp;Core</a></li>
        <li><a href='#TODO-Extensions'>&nbsp;&nbsp;Extensions</a></li>
        <li><a href='#Copyright'>Copyright</a></li>
        <li><a href='#Authors'>&nbsp;&nbsp;Authors</a></li>
      </ul>
    </div>

    <a name='About'></a>
    <div class='paper'>
      <div class='content'>

        <h2>About</h2>
        <p>Babl is a <em>dynamic, any to any, pixel format conversion
          library</em> It provides conversions between the myriad of buffer
        types images can be stored in. Babl doesn't only help with existing
        pixel formats, but also facilitates creation of new and uncommon
        ones.</p>

        <a name='NEWS'></a>
        <h2>News</h2>
<!--NEWS-->

        <a name='Features'></a>
        <h2>Features</h2>

        <h3>Core</h3>
        <ul>
          <li>Small polymorphic API requiring minimal manual memory management
          to specify and convert between <em>linear</em> and <em>planar</em>
          buffers as provided for by registered data types and color
          models.</li>
          <li>Thread safety for processing.</li>
          <li>Horizontal an vertical subsampling (for implementing 4:2:2 4:2:0
          4:1:1 etc. chroma subsampling)</li>
          <li>Accurate (hopefully) reference data types and color models implemented using
          64bit floating point.
<!--BablBase-->
          </li>
        </ul>

        <h3>Extensions</h3>
        <p>
        At compile, load and runtime; babl is extendable with:
        </p>
        <ul>
          <li>data types.</li>
          <li>color models.</li>
          <li>pixel formats.</li>
          <li>optimized conversion functions:
          <dl>
            <dt>SIMD instructions</dt>
            <dd>MMX, SSE, Altivec ...</dd>
            <dt>External libraries</dd>
            <dd>liboil, hermes, libavcodec, lcms, ...</li>
          </dl>
          </li>
        </ul>
        <p>
        The extension api is not going to be frozen until after the 1.0 release.
        </p>


        <a name='Dependencies'></a>
        <h2>Dependencies</h2>

        <p> Babl is intended to be a low level infrastructure library and thus
        strives for few dependencies and thus portability. </p>

        <a name='Dependencies-Core'></a>
        <h3>Core</h3>
        <ul>
          <li>The C Standard library.</li>
        </ul>

        <a name='Dependencies-Extensions'></a>
        <h3>Extensions</h3>
        <ul>
          <li>libdl - dynamic modules. (planned)</li>
        </ul>


        <a name='Source'></a>
        <h2>Source</h2>

        <p>
        The latest development version is available in <a href='http://cvs.gnome.org/viewcvs/babl/'>the babl module in GNOME CVS</a>.
        </p>
        <!--
        <div class='screen'>
          <p>You can also <a href='source-local.html'>browse the source</a> for
          the version this website was built. </p>
        </div>
        -->

        <a name='Basic-usage'></a>
        <h2>Basic usage</h2>

        <p>The simplest scenario for using babl is converting between linear
        buffers represented by an existing BablPixelFormat.
        </p>
        <pre>
#include &lt;babl.h&gt;

unsigned char srgb_buf[WIDTH*HEIGHT*3];
float         lab_buf[WIDTH*HEIGHT*3];
...

babl_init (); /* initialize babl library */

...

Babl *babl_fish = babl_fish (babl_pixel_format ("srgb"),
                             babl_pixel_format ("lab-float"));

babl_fish_process (fish, srgb_buf, lab_buf, WIDTH * HEIGHT);

...

babl_destroy (); /* deinitialize babl library */
        </pre>
        <p>For more code samples look in the tests directory.</p>
        
        <a name='Extending'></a>
        <h2>Extending</h2>
        
        <p>For samples of how the current internal api of specification of
           data types, color models, pixel formats and their conversions look
           in the babl/base/ directory. The tables in this HTML file is directly generated
           based on the data registered by BablBase.
        </p>

        <p>For now, the only way to extend babl is from the application using the library,
           by structuring your code in a similar fashion to BablBase it should be easier
           to later turn it into a loadable module.
        </p>
        
        <a name='TODO'></a>
        <a name='TODO-Core'></a>
        <h2>TODO</h2>
        
        <h3>Core</h3>
        <ul>
          <li>Meta level optimizations.</li>
          <li>Compile and/or runtime profiling. <em>(The speed of conversions
            is bound to 'wobble', according to architecture, compiler flags,
            concurrently running processes and phase of moon.)</em></li>
          <li>Subsampling support</li>
          <li>Mixed BablTypes in BablPixelFormats</li>
          <li>Support for datatypes that are not a multiple of 8bit.</li>
          <li>Ref-counting for BablImages</li>
          <li>Thread safety for mutations of the type system.</li>
          <!--<li>Relative error is the difference between the two vaues
          divided by the actual value, for instance, if the actual result of a
          calculation should be 3.13159, but the result obtained was 3.14x10^0,
          the relative error is 0.00159/3.14159 => 0.0005 (source: 'A new book
          on c (cook1_0a.pdf)')</li>-->
        </ul>

        <a name='TODO-Extensions'></a>
        <h3>Extensions</h3>
        <ul>
          <li>Dynamic modules
          babl will probably look in a colon
          seperated list of paths to search sequentially for modules. 
          The default assumed value is
          <pre>BABL_PATH="/usr/lib/babl/:/usr/local/lib/babl:(HOME)/.local/lib/babl:$(HOME)/lib/babl".
          </pre>
          NB: the modules will be loaded from the directories pointed to by
          the path in reverse order, this should allow the user to override
          system wide installed types, models and pixel formats.
          </li>
        </ul>



        <a name='Copyright'></a>
        <h2>Copyright</h2>

        <p> Babl is free software; you can redistribute it and/or modify it
        under the terms of the <a href='LGPL'>GNU Lesser General Public
          License</a> as published by the Free Software Foundation; either
        version 2 of the License, or (at your option) any later version. </p>

        <a name='Authors'></a>
        <h3>Authors</h3>

        <dl>
          <dt>Maintainer:</dt>
          <dd><a href='http://pippin.gimp.org/'>Øyvind Kolås</a></dd>
          <dt>Original author:</dt>
          <dd>Øyvind Kolås</dd>
          <dt>Contributors:<dt>
<dd><pre class='authors'><!--AUTHORS-->          
</pre></dd>
        </dl>
     
        <a href='graphics/index.html'><img class='BablFish' alt='/babl-@BABL_VERSION@' title='babl-@BABL_VERSION@' src='graphics/babl-48x48.png'/></a>
      </div>
    </div>
    <div class='graphic'>
      <div class='print'>
        <img src='graphics/babl-a4poster.png' alt=' '/>
      </div>
    </div>

  </body>
</html>
