2005-08-18  Øyvind Kolås  <pippin@gimp.org>

	* babl/base/util.h: added new and hopefully correct gamma correction
	and uncorrection functions.
	* babl/base/model-grayscale.c: (components),
	(rgb_to_grayscale_2_2), (grayscale_2_2_to_rgb): register
	"luminance-gamma2.2" component, and use new gamma functions.
	* babl/base/model-rgb.c: (g3_gamma_2_2), (g3_inv_gamma_2_2): use new
	gamma functions.
	* babl/base/model-ycbcr.c: (components), (models), (rgb_to_ycbcr),
	(ycbcr_to_rgb): use gamma corrected luminance, and correct gamma. (pixel_formats):
	uncomment until a new data type exist with headroom/footrom in 8bit
	for proper rescaling of 0..255 to 16..235 for luma and  +/-112 range
	with offset of 128 for chroma (16 thorugh 240 inclusive).
	* babl/base/rgb-constants.h: more digits as well as some #if 0' dead
	code for reference.
	* tests/rgb_to_lab_to_rgb.c: add more colors to the test buffer.
	* tests/rgb_to_ycbcr.c: set TOLERANCE to a more meaningful value,
	updated the ycbcr version of 50% gray.

2005-08-17  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-internal.h: (type_name##_id) babl_log upon failed
	lookups.

2005-08-17  Øyvind Kolås  <pippin@gimp.org>

	* Makefile-mini
	* babl/Makefile-mini: removed

2005-08-17  Øyvind Kolås  <pippin@gimp.org>

	* configure.ac: added babl/Makefile to AC_CONFIG_FILES().

2005-08-17  Sven Neumann  <sven@gimp.org>

	* README.in: spelling.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/base/pixel-formats.c: removed

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-model.c: (model_new)
	* babl/babl-pixel-format.c: (pixel_format_new): reordered allocation
	to place string (to avoid placing pointers in non aligned adresses).

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-component.c: (component_new, each_babl_component_destroy) allocate
	larger chunk, (babl_component_new) removed Babl* switch, 
	* babl/babl-conversion.c: (conversion_new): removed superflous runtime
	warnings.
	* babl/babl-fish.c: (babl_fish_process): reindent, added assert for
	instance.
	* babl/babl-image.c: (image_new, babl_image_new): reindent,
	, (babl_image_new_from_linear): added asserts for parameters.
	* babl/babl-model.c: (each_babl_model_destroy, model_new): allocate
	larger chunk.
	* babl/babl-pixel-format.c: (each_babl_pixel_format_destroy,
	pixel_format_new): allocate larger chunk.
	* babl/babl-sanity.c: (babl_conversion_source): removed FIXME comment
	used for helper function just used to make code more readable.
	* babl/babl-type.c: (each_babl_type_destroy, type_new): allocate
	larger chunk.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-classes.h: (BablSampling) added static name.
	* babl/babl-sampling.c: (babl_sampling_init): initialize names
	* babl/babl-introspect.c: (pixel_format_introspect): display sampling
	name as well.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-component.[ch]
	* babl/babl-conversion.[ch]
	* babl/babl-fish.[ch]
	* babl/babl-image.[ch]
	* babl/babl-instance.h
	* babl/babl-internal.h
	* babl/babl-introspect.c
	* babl/babl-model.[ch] 
	* babl/babl-pixel-format.[ch]
	* babl/babl-sampling.[ch] 
	* babl/babl-sanity.c 
	* babl/babl-type.[ch] 
	* tests/float_to_u8.c 
	* tests/grayscale_to_rgb.c
	* tests/rgb_to_lab_to_rgb.c
	* tests/rgb_to_ycbcr.c
	* tests/rgb_to_ycbcr_to_rgb.c
	* tests/u8_to_float.c: Changed to use polymorph Babl * union's instead
	of class specific structs in most cases, and in all cases for the
	public API.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>
	
	* AUTHORS: Fixed spelling of Sven Neumann.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* tests/.cvsignore: added the test binaries.
	* .cvsignore: added *.tar.gz and *.tar.bz2

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* AUTHORS: added Sven Neuman.

2005-08-16  Sven Neumann  <sven@gimp.org>

	* configure.ac: add -Wall to CFLAGS if gcc is being used. Use
	AC_CONFIG_FILES() to define the files that need to be generated.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/base/mode-ycbcr.c: use coefficients from Charles Poyntons color
	FAQ.
	* tests/rgb_to_ycbcr_to_rgb.c: changed TOLERANCE to 0.00000000000001
	* tests/rgb_to_ycbcr.c: changed TOLERANCE as well as reference values.

2005-08-16  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-fish.c: reindentation, no naming of fishes.
	* babl/babl-ids.h: reordering, added YCBCRA, LAB and LAB_ALPHA
	* babl/base/Makefile.am: added cpercep.[ch] model-lab.c and
	model-ycbcr.c
	* babl/base/cpercep.[ch]: *NEW*
	* babl/base/model-lab.c: *NEW* CIE Lab color model, backed by a slightly
	modified version of cpercep from gimp sources (no gamma correction and
	normalized RGB values)
	* babl/base/model-ycbcr: made ycbcr work, numbers still need to be
	verified.
	* babl/base/babl-base.c: initialize CIE Lab and YCbCr
	* babl/base/model-cmyk.c: slight changes, it still doesn't pass
	rgb->cmyk->rgb testing so not included yet.
	* babl/base/model-rgb.c: make rgba-double use BABL_DOUBLE instead of
	BABL_FLOAT
	* babl/base/type-u16: fix conversion to double.
	* tests/Makefile.am: added rgb_to_lab_to_rgb , rgb_to_ycbcr_to_rgb and
	rgb_to_ycbcr
	* tests/rgb_to_lab_to_rgb.c
	* tests/rgb_to_ycbcr_to_rgb.c
	* tests/rgb_to_ycbcr.c: *NEW* tests

2005-08-15  Øyvind Kolås  <pippin@gimp.org>

	* babl/base/model-cmyk.c
	* babl/base/model-ycbcr.c: added stubs

2005-08-15  Øyvind Kolås  <pippin@gimp.org>

	* configure.ac: add rule to generate babl/base/Makefile
	* babl/base: new directory
	* babl/base/Makefile.am
	* babl/base/babl-base.[ch]
	* babl/base/type-double.c
	* babl/base/type-float.c
	* babl/base/type-u8.c
	* babl/base/type-u16.c
	* babl/base/model-rgb.c
	* babl/base/model-grayscale.c
	* babl/base/.cvsignore: added code removed in previous commit, in
	a more oragnised manner.
	

2005-08-15  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-base/babl-base.[ch]
	* babl/babl-base/babl-base-components.c
	* babl/babl-base/babl-base-conversions.c
	* babl/babl-base/babl-base-conversions-model.c
	* babl/babl-base/babl-base-conversions-type.c
	* babl/babl-base/babl-base-models.c
	* babl/babl-base/babl-base-pixel-formats.c
	* babl/babl-base/babl-base-types.c
	* babl/babl-base/Makefile.am
	* babl/babl-base/: removed

2005-08-15  Øyvind Kolås  <pippin@gimp.org>
	
	* babl/babl-classes.h: BablPixelFormat: changed order of attributes to
	match BablModel. BablFish: removed **from and **to lists, since they
	were added at a wrong offset from the instance start anyways.
	* babl/babl-fish.c: Made the reference fish work for linear buffers
	with constant datatype
	* babl/babl-ids.h: added BABL_RGBA_DOUBLE
	* babl/babl-image.[ch]: made BablImage be allocated in a single chunk,
	added babl_image_new_from_linear()
	* babl/babl-type.c: added assertion about bits%8==0
	* babl/babl-base/babl-base-conversions-model.c: made BABL_PLANAR_SANITY accept
	single band buffers. added conversions for premultiplied grayscale.
	* babl/babl-base/babl-base-pixel-formats.c: added "rgba-double"

2005-08-15  Øyvind Kolås  <pippin@gimp.org>

	* Makefile-mini: compile both the nop and introspect programs by
	default.
	* babl/Makefile-mini: link with standard math library

2005-08-14  Øyvind Kolås  <pippin@gimp.org>
	
	* tests/float_to_u8.c
	* tests/u8_to_float.c
	* tests/grayscale_to_rgb.c: new files
	* tests/Makefile.am: including preceding tests

2005-08-14  Øyvind Kolås  <pippin@gimp.org>
	
	* babl/Makefile.am: added babl-instance.h, removed wilcard from
	EXTRA_DIST
	* babl/babl-classes.h: added BablModel **model to BablPixelFormat,
	renamed BablReferenceFish to BablFishReference. Moved some logic out
	to babl-instance.h.
	* babl/babl-instance.h: new file.
	* babl/babl-db.h: include babl-instance instead of babl-classes to
	reduce amount of headers included by headers.
	* babl/babl-fish.c: Added code to make it work for type conversions
	* babl/babl-fish.h: Added babl_fish (source, destination) prototype
	* babl/babl-internal.h: reindentation, include babl-conversion.h
	* babl/babl-pixel-format.c: add model for each band
	* babl/babl.c: destroy all fishes at finish

2005-08-14  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-base/Makefile.am: LDADD = -lm
	* babl/babl-base/babl-base-conversions-model.c: reindentation, added
	gamma functions.
	* babl/babl-base/babl-base-conversions-type.c: corrected reference
	versions of u8, u16 and float.
	* babl/babl-base/babl-base-models.c: ifdef'ed out some of the more
	arcane models.
	* babl/babl-base/babl-base-pixel-formats.c: added the corresponding
	model used to all pixel formats.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/Makefile-mini: CFLAGS = -Werror -Wall ....
	* babl/babl-classes.[ch]: BablPixelFormat removed unused pointers
	to lists of conversions. Added BablReferenceFish. Renamed kind/
	instance.type to class_type/instance.class_type. Removed mostly
	unused macro's and expanded them in source

	* babl/babl-component.c
	* babl/babl-conversion.c
	* babl/babl-db.h
	* babl/babl-fish.c
	* babl/babl-image.c
	* babl/babl-introspect.c
	* babl/babl-model.c
	* babl/babl-pixel-format.c
	* babl/babl-sampling.c

	* babl/babl-type.c: removed switch statement since all enums are
	handled equally.

	* babl/tests/Makefile.am: added nop and introspect to TESTS, not
	actual tests yet, but at least a segfault will cause make check to
	fail.
	
2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* autogen.sh: make autogen also run make
	* babl/babl-classes.h: added define macro usable for sampling and
	fish.
	* babl/babl-fish.[ch]: cleanup of stub class
	* babl/babl-sampling.h: simplification of header using a define.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-conversion.c: indentation cleanup.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-ids: added BABL_LUMINANCE_GAMMA_2_2,
	BABL_LUMINANCE_MUL_ALPHA, BABL_GRAYSCALE_GAMMA_2_2,
	BABL_GRAYSCALE_ALPHA_PREMULTIPLIED.
	* babl/babl-base/babl-base-components: added "luminance*alpha"
	* babl/babl-base/babl-base-components.conversions-model.c: Sprinked
	asserts, added generic premultiplification operation.
	* babl/babl-base-models.c: added gamma corrected and premultiplied
	variations of grayscale.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-internal.h: issue a babl_log when the named object is not
	found during string based lookup.
	* babl/babl-pixel-format.c: added BABL_IMAGE to var_args switch.
	* babl/babl-classes.c: set babl_hmpf_on_name_lookups initial value to
	0, to make it hmpf only in babl-base.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/Makefile-mini: added babl-image.o.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/babl-sampling.h: removed reference to non existant function
	babl_sampling_introspect ().

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* babl/Makefile.am
	* babl/babl-image.c
	* babl/babl-image.h
	* babl/babl-classes.h: Added BablImage class.

	* babl/babl-component.c
	* babl/babl-conversion.c
	* babl/babl-model.c: Handle BABL_IMAGE in switches.


2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* .cvsignore: added INSTALL and README.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	* depcomp
	* install-sh
	* missing: erroniously included in first import.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	Imported into GNOME CVS.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	- seperate babl-base into separate subdir.

2005-08-09  Øyvind Kolås  <pippin@gimp.org>

	- Renamed class to model.
	- Auto toolification

2005-08-08  Øyvind Kolås  <pippin@gimp.org>

	- Completed data model
	- Added sanity checker

2005-08-07  Øyvind Kolås  <pippin@gimp.org>

	- Introspection

2005-08-05  Øyvind Kolås  <pippin@gimp.org>

	- Initial ChangeLog

2005-07-31  Øyvind Kolås  <pippin@gimp.org>

	- Type system

2005-07-29  Øyvind Kolås  <pippin@gimp.org>

	- Babl's inception in the 'Chaos Village' at WhatTheHack.

